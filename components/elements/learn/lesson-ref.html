<!--

`lesson-ref` is a unit intended for use inside a `lesson-block` which provides a path to a separate stand-alone lesson. A `lesson-ref` has an `href` attribute pointing to the referenced lesson and an `image`attr

Example:

	<lesson-ref>
	  ... content ...
	</lesson-ref>

@group Learn Elements
@class lesson-ref
-->
<dom-module id="lesson-ref">
	<style>
	::content #lesson-ref-container {
		position: relative;
		right: -30px;
		background-color: #fff;
		margin-bottom: 20px;
		cursor:pointer;
	}
	
	;
	::content #image-container {
		position: relative;
	}
	
	::content #image-container img {
		width: 100%;
	}
	
	::content #title-el {
		position: absolute;
		bottom: 0;
		left: 0;
		margin-left: 10px;
		color: #ffffff;
	}
	
	::content #image-container paper-fab {
		position: absolute;
		right: -30px;
		bottom: -20px;
		background-color: #fff;
		color: #000;
	}
	
	::content #text-container {
		padding: 10px;
		padding:0px 10px 10px 10px;

	};

	.material-shadow {
		  transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.material-shadow[elevation="1"] {
	  box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
	                  0 1px 5px 0 rgba(0, 0, 0, 0.12),
	                  0 3px 1px -2px rgba(0, 0, 0, 0.2);
	}

	.material-shadow[elevation="2"] {
	  box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
	                  0 1px 10px 0 rgba(0, 0, 0, 0.12),
	                  0 2px 4px -1px rgba(0, 0, 0, 0.4);
	}

	.material-shadow[elevation="3"] {
	  box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
	                  0 1px 18px 0 rgba(0, 0, 0, 0.12),
	                  0 3px 5px -1px rgba(0, 0, 0, 0.4);
	}

	.material-shadow[elevation="4"] {
	  box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
	                  0 3px 14px 2px rgba(0, 0, 0, 0.12),
	                  0 5px 5px -3px rgba(0, 0, 0, 0.4);
	}

	.material-shadow[elevation="5"] {
	  box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
	                  0  6px 30px 5px rgba(0, 0, 0, 0.12),
	                  0  8px 10px -5px rgba(0, 0, 0, 0.4);
	}
	</style>
	<template>
		<div id="lesson-ref-container" elevation="2" class="material-shadow">
			<div id="image-container">
				<img src="{{ image }}">
				<h2 id="title-el">{{ title }}</h2>
				<paper-fab icon="arrow-forward"></paper-fab>
			</div>
			<div id="text-container">
				<content></content>
			</div>
		</div>
	</template>

</dom-module>

<script>
	Polymer({
		is: 'lesson-ref',
		listeners: {
			"click": "_clickListener"
		},
		properties: {
			title: {
				type: String,
				value: "Lesson Title"
			},
			image: {
				type: String,
				value: ""
			},
			url: {
				type: String,
				value: ""
			}
		},
		ready: function() {
			// DOM OBJECTS
			this.text_container = this.$['text-container'];
			this.image_container = this.$['image-container'];
			this.title_el = this.$['title-el'];
		},
		_handleEscapeKey: function(e) {
			console.log("when available, implement close-capsule here");
		},

		_handlePaperButtonClick: function(e) {

		},

		_clickListener: function(e) {
			console.log("_clickListener");
			if (this.url) {
				//window.open(this.url, "_blank");
				this.fire("page:add", {url:this.url});
			}
		}
	});
</script>
